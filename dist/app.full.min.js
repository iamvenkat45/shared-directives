function CurrencyInfoController(a){function b(){c(),d()}function c(){e.currencyCode=a.getCurrencyCode()}function d(){e.infoText=e.text||"All rate values are in"}var e=this;e.currencyCode="",e.infoText="",e.$onInit=b}CurrencyInfoController.$inject=["UserService"],angular.module("shared-directives",[]);var breadCrumbController;angular.module("shared-directives").directive("breadCrumbs",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"src/bread-crumbs/bread-crumbs.html",controller:breadCrumbController,controllerAs:"vm",link:function(a,b,c,d){}}}),breadCrumbController=["$scope","$state","$stateParams",function(a,b,c){var d=this;if(d.breadcrumbTrail=[],b.current.trail)d.breadcrumbTrail=b.current.trail;else{var e=b.current.url;e=e.replace(/^\//,""),e=e.replace(/\/$/,"");var f=e.split("/");angular.forEach(f,function(a,b){a=a.replace(/-/g," "),d.breadcrumbTrail.push(a.replace(/\b\w/g,function(a){return a.toUpperCase()}))})}d.go=function(a){a=a.replace(/ /g,"-").toLowerCase(),b.go(a)}}],angular.module("shared-directives").directive("buildInfo",["$http","$document",function(a,b){var c=function(c){var d="",e="6566826567656865668265",f=null,g=function(a){return"BUTTON"===a.target.tagName||"A"===a.target.tagName||"INPUT"===a.target.tagName||"SELECT"===a.target.tagName||"TEXTAREA"===a.target.tagName},h=function(){a.get("./build.json",{cache:!1}).then(function(a){c.buildDetails=a.data,c.debugVisible=!0})},i=function(){clearTimeout(f),d=""},j=function(a){clearTimeout(f),d+=a.which,f=setTimeout(i,1e3),d===e&&(g(a)?a.stopImmediatePropagation():(a.preventDefault(),h()))};b.off("keyup",j).on("keyup",j)};return{restrict:"A",link:c,templateUrl:"src/build-info/build-info.html"}}]);var currencyInfoComponent={bindings:{text:"@",noPad:"<"},templateUrl:"src/currency-info/currency-info.html",controller:CurrencyInfoController,controllerAs:"ci"};angular.module("shared-directives").component("currencyInfo",currencyInfoComponent);var ihgFooterController;angular.module("shared-directives").directive("ihgFooter",function(){return{restrict:"E",replace:!0,templateUrl:"src/ihg-footer/ihg-footer.html",scope:{lastLogin:"@",versionNumber:"@",copyrightYear:"@",userLoggedIn:"=",userData:"="},controller:ihgFooterController,controllerAs:"vm",bindToController:!0,link:function(a,b,c,d){}}}),ihgFooterController=["$scope","Globals",function(a,b){var c=this;a.$watch("vm.lastLogin",function(a){var b=(new Date).toString(),d=b.indexOf("(")>-1?b.match(/\([^\)]+\)/)[0].match(/[A-Z]/g).join(""):b.match(/[A-Z]{3,4}/)[0];"GMT"===d&&/(GMT\W*\d{4})/.test(b)&&(d=RegExp.$1),a?c.timezone=d:c.timezone=""}),c.setFooterColor=function(){return angular.isDefined(c.userData)?c.userData.user.corporateUser&&b.showCorpSelected?{"background-color":"#3b3f51"}:null!=c.userData.user.currentLocation?{"background-color":c.userData.user.currentLocation.brandColor}:{"background-color":"#3b3f51"}:{"background-color":"#3b3f51"}}}];var ihgHeaderController;angular.module("shared-directives").directive("ihgHeader",function(){return{restrict:"E",replace:!0,scope:{title:"@",adminList:"=",userLoggedIn:"=",route:"=",userData:"="},templateUrl:"src/ihg-header/ihg-header.html",controller:ihgHeaderController,controllerAs:"vm",bindToController:!0,link:function(a,b,c,d){}}}),ihgHeaderController=["$state","$scope","AuthorizationService","IdeasService","$uibModal","spinnerService","Globals","UserService","$rootScope","HeaderMenuService","NavigateAwayService",function(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.hamClosed=!0,l.hamJustClosed=!1,l.hamClickDown=!1,l.showHotelBox=!1,b.$on("updateMenu",function(){l.hamList=j.getMenuList()}),l.closeHam=function(){l.hamJustClosed&&l.hamClickDown?(l.hamJustClosed=!1,l.hamClickDown=!1):(l.hamJustClosed=!1,l.hamClickDown=!1,l.hamClosed&&(l.hamClosed=!1,setTimeout(function(){var a=document.getElementById("hamDropDown");a.focus()},100)))},l.hamDown=function(){l.hamClosed||(l.hamClickDown=!0)},l.hamBlur=function(){l.hamClosed=!l.hamClosed,l.hamJustClosed=!0},l.adminClosed=!0,l.adminJustClosed=!1,l.adminClickDown=!1,l.closeAdmin=function(){l.adminJustClosed&&l.adminClickDown?(l.adminJustClosed=!1,l.adminClickDown=!1):(l.adminJustClosed=!1,l.adminClickDown=!1,l.adminClosed&&(l.adminClosed=!1,setTimeout(function(){var a=document.getElementById("adminDropDown");a.focus()},100)))},l.adminDown=function(){l.adminClosed||(l.adminClickDown=!0)},l.adminBlur=function(){l.adminClosed=!l.adminClosed,l.adminJustClosed=!0},l.menuHover=function(a,b){l.showSubmenu=!1,a.currentTarget.innerText.indexOf(l.hamList[0].name)!==-1?(b.active=!b.active,l.childMenu=b):a.currentTarget.innerText.indexOf(l.hamList[1].name)!==-1?(b.active=!b.active,l.childMenu=b):a.currentTarget.innerText.indexOf(l.hamList[2].name)!==-1?(b.active=!b.active,l.childMenu=b):a.currentTarget.innerText.indexOf(l.hamList[3].name)!==-1&&(b.active=!b.active,l.childMenu=b)},l.logout=function(){var a=!1;g.logout=!0,k.notifyChangeOccured(),0===g.modifiedList.length?c.logoutUser(a):i.$broadcast("showUnsavedChanges","logout")},l.navigateHome=function(){a.go("dashboard",{},{reload:!0})},l.ideas=function(){d.postIdeasLink()},l.support=function(){e.open({templateUrl:"src/common_pages/help-support/help-support.html",controller:"HelpSupportCtrl",controllerAs:"vm",backdrop:"static",size:"lg"}).result.then(function(a){},function(a){})},l.setPageAccess=function(a,b){var c={viewOnly:a,hotelSelectorRequired:b};j.setPageAccess(c)},l.hamNavigate=function(b,c,d){b?(l.hamBlur(),l.setPageAccess(c,d),a.go(b)):l.hamBlur()};var m=0;l.subPosition=function(a){return 0===a?(m=230,{left:m+"px"}):(m+=230,{left:m+"px"})};var n=function(){l.showHotelBox=!0,l.hotelLogoImage="images/Logos_for_Global_Header/"+l.userData.user.currentLocation.brandImage,l.hotelDescription=l.userData.user.currentLocation.name+" ("+l.userData.user.currentLocation.mnemonic+")"};l.hotelSelect=function(){h.isMultipleHoteluser()&&(f.start("chooseHotelPopup"),l.openHotelSelector=!0,e.open({templateUrl:"src/common_components/ihg-header/hotel-select/hotel-select.html",controller:"HotelSelectCtrl",controllerAs:"vm",backdrop:!0,backdropClass:"transparent-modal-backdrop"}).result.then(function(a){l.openHotelSelector=!1,n()},function(a){l.openHotelSelector=!1}))},i.$on("show-hotel-selection-popup",function(a,b){l.hotelSelect()}),l.selectRadio=function(b){k.notifyChangeOccured(),0!==g.modifiedList.length?i.$broadcast("showUnsavedChanges","hotel"):"Corporate"!==b||l.showCorpSelected?"Hotel"===b&&(l.showHotelBox&&!l.showHotelSelected?(l.showHotelSelected=!0,l.showCorpSelected=!1,g.showCorpSelected=l.showCorpSelected,l.setHeaderColor(),a.go("dashboard")):l.hotelSelect()):(l.showCorpSelected=!0,g.showCorpSelected=l.showCorpSelected,l.showHotelSelected=!1,a.go("dashboard"))},l.showCorporateBox=function(){return!l.openHotelSelector&&(!!angular.isDefined(l.userData)&&l.userData.user.corporateUser)},l.setHeaderColor=function(){return angular.isDefined(l.userData)?l.userData.user.corporateUser&&l.showCorpSelected?{"background-color":"#3b3f51"}:null!=l.userData.user.currentLocation?{"background-color":l.userData.user.currentLocation.brandColor}:{"background-color":"#3b3f51"}:{"background-color":"#3b3f51"}},l.setHotelDetails=function(){angular.isDefined(l.userData)?(l.userData.user.corporateUser&&(l.showCorpSelected=!0,g.showCorpSelected=l.showCorpSelected,l.showHotelSelected=!1),null!=l.userData.user.currentLocation?n():(l.showHotelBox=!1,l.selectHotelText="Select a Hotel")):(l.showHotelBox=!1,l.selectHotelText="Select a Hotel")},b.$watch("vm.showHotelBox",function(){g.showHotelBox=l.showHotelBox})}],angular.module("shared-directives").directive("spinnerDirective",function(){return{restrict:"E",replace:!1,scope:{},templateUrl:"src/spinner-directive/spinner-directive.html",link:function(a,b,c,d){}}}),angular.module("shared-directives").run(["$templateCache",function(a){"use strict";a.put("src/bread-crumbs/bread-crumbs.html",'<div id=bread-crumbs><div class=history-row><span ng-repeat="crumb in vm.breadcrumbTrail | limitTo: (vm.breadcrumbTrail.length - 1) track by $index"><span ng-click=vm.go(crumb) class="pointer link">{{crumb}}</span><span class=right-arrow> ></span></span></div><div class=page-title>{{vm.breadcrumbTrail[vm.breadcrumbTrail.length - 1]}}</div></div>'),a.put("src/build-info/build-info.html",'<div class="debug-container fade" ng-class="{in: debugVisible}"><div class=details><h4 class=title>Build Details</h4><pre>{{buildDetails | json}}</pre><div uib-tooltip=Close tooltip-placement=left class=debug-close ng-click="debugVisible = false">×</div></div></div>'),a.put("src/currency-info/currency-info.html","<span class=currency-info ng-class=\"{'padded': !ci.noPad}\"><span ng-bind=ci.infoText></span> <span ng-bind=ci.currencyCode></span>.</span>"),a.put("src/ihg-footer/ihg-footer.html","<span class=footer-foot ng-style=vm.setFooterColor()><span ng-if=vm.userLoggedIn>Last Login: {{vm.lastLogin}} {{vm.timezone}}</span> <span ng-if=vm.userLoggedIn class=copy-space></span> <span ng-if=vm.userLoggedIn>{{vm.versionNumber}}</span> <span>© {{vm.copyrightYear}} InterContinental Hotels Group</span></span>"),a.put("src/ihg-header/hotel-select/hotel-select.html",'<div id=choose-hotel><div class=modal-header><h4 class=modal-title>Select a Hotel</h4></div><div class=modal-body><p ng-if=!vm.historyList>No frequent hotel available at this stage. Start by looking for a hotel below.</p><p ng-if="vm.historyList.length > 1">{{vm.historyList.length}} most recent hotels</p><p ng-if="vm.historyList.length === 1">Most recent hotels</p><li class=history-list ng-repeat="histHotel in vm.historyList track by $index"><ul class="history-item pointer" ng-click=vm.chooseHotel(histHotel)><span class="fa fa-check" ng-if="$index === 0"></span> {{histHotel.mnemonic}} - {{histHotel.name}} - {{histHotel.addressLine1}} {{histHotel.addressLine2}}</ul></li></div><div class=lower-portion>Search for Additional Hotels<form ng-submit=vm.search() class="input-group search-group"><div class=input-group-btn><button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown>{{vm.searchType}} <span class="caret search-caret"></span></button><ul class=dropdown-menu><li><a ng-click="vm.assignSearchType(\'Hotel Code\')">Hotel Code</a></li><li><a ng-click="vm.assignSearchType(\'Hotel Name\')">Hotel Name</a></li><li><a ng-click="vm.assignSearchType(\'City Name\')">City Name</a></li></ul></div><input type=text class=form-control ng-model=vm.searchInput ng-minlength=vm.searchLength ng-change=vm.convert() ng-focus="vm.showSearchResults = true"> <span class=input-group-addon ng-click=vm.search()><span class="fa fa-search"></span></span></form><div ng-if="vm.searchType === \'Hotel Code\' && vm.showSearchResults" class=search-results><li class=search-list ng-repeat="hotel in vm.allHotelList | startsWith:vm.searchInput:\'mnemonic\' track by $index"><ul class="search-item pointer" ng-click=vm.chooseHotel(hotel)><span ng-bind-html="vm.highlight(hotel.mnemonic, vm.searchInput)"></span> - <span>{{hotel.name}}</span></ul></li><p ng-show="(vm.allHotelList | startsWith:vm.searchInput:\'mnemonic\').length == 0">No Results Found</p></div><div ng-if="vm.searchType === \'Hotel Name\' && vm.showSearchResults" class=search-results><li class=search-list ng-repeat="hotel in vm.allHotelList | filter:{name:vm.searchInput} track by $index"><ul class="search-item pointer" ng-click=vm.chooseHotel(hotel)><span>{{hotel.mnemonic}}</span> - <span ng-bind-html="vm.highlight(hotel.name, vm.searchInput)"></span></ul></li><p ng-show="(vm.allHotelList | filter:{name:vm.searchInput}).length == 0">No Results Found</p></div></div></div>'),a.put("src/ihg-header/ihg-header.html",'<header class=row><div class="col-xs-12 header" ng-style=vm.setHeaderColor()><div id=hamburger class=pull-left ng-if=vm.userLoggedIn><span class="fa hamburger pointer" ng-class="vm.hamClosed ? \'fa-bars\': \'fa-times\'" ng-click=vm.closeHam() ng-mousedown=vm.hamDown()></span><div ng-if=!vm.hamClosed tabindex=-1 id=hamDropDown class="ham-drop-down slide-right" ng-blur=vm.hamBlur()><div id=menuItem ng-mouseover=vm.menuHover($event,menuItem) ng-repeat="menuItem in vm.hamList track by $index" ng-click=vm.hamNavigate(menuItem.link);vm.setPageAccess(menuItem.viewOnly,menuItem.hotelSelectorRequired) class="ham-menu-item pointer"><span class="fa {{menuItem.preIcon}} pre-admin-icon"></span> {{menuItem.name}} <i class="fa fa-chevron-right gt-float-left" aria-hidden=true ng-show="menuItem.items.length !==0"></i><ul id=subMenuItem class=sub_sidebar ng-repeat="subItem in menuItem.items track by $index" ng-style=vm.subPosition($index)><li id=disableHover ng-if=subItem.header><strong>{{subItem.header.name}}</strong></li><li ng-repeat="option in subItem.items track by $index" ui-sref={{option.link}} ui-sref-opts="{reload: true}">{{option.name}}</li></ul></div></div></div><div id=logo-title class="pull-left logo-title cursor-pointer" ng-click=vm.navigateHome()><img id=ihg-logo src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAYAAAAIeF9DAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAABPZJREFUaIHtm2uIVGUcxn/Pqqsl6WZl9zIrKwuDSI1uFpppEZtBGUQfCqSiSIwShUDB7ENl9ztR4CfJIP3QXSKIMjPpopbmrtKFzFzXCg111acP76zOHudyzswZZzrtDwZ25rzz/N9znp33f877f1/opaFQvTtQb2z3B/rn3u6RtKue/YltiO3BwBjAZZr2BdqBv4CLgL0x2rdJaisRexAwNkbsPsAWSd+U0DoLmABcCpwDDAWOyB3eBWwFNgBfAB8DayWVi1soxghgJ7CiJibbHuv4PGH7pgTtHy0Te0wCrXcLfL/JdqvtZbb3JNDaZ3u57dsdfklxrtN42wts35t7zbbdJ+51borbMCGJ/qNS1uvR1vZo4FNgCTAe6JdAqwm4BFgIrLJ9bcnAdj9gHPA5cHwu1h/ANXED9k3Quf8ctmcB8yh8nl3ARmAT0EkwsgUYDpwJNEfanw+8b/sZYKakPQU0BwM7CMP1Gbm/1wOnx+1zFg3ZB2D7deCOAsd/AF4D3gHaJfXIcbabCKbcANxFyDP5TAfOs32bpI78A5I6bDcDI4HngXOBycCiuJ2v1ZBVT/rYfplDzeggXOALJT0paX3UDABJ+yW1SXoKGAXcT/iPz2cicGeR+G8AQ3LfPRlYJWl15adTBCdL6o873aQ+OoHWbodknM9y28OqOPcRtr/O05tfpn1f26fabkkaK4tDVnTs/wiYImlnpYKSfrQ9gTD0LJH0Qpn2e4FfKomVRUPy+RaYWo0Z3UjaZnsyuRxVK7JsyC5gmqTtaQkWyjlpk8Wk3s1zklbWuxNJyaohncCz9e5EJTSKIWk/2S+V9GvKmoeFRskhl9t+EBhQ4FgXMCyh3pKqe1QnGsWQK3OvNPgbWJWS1mGnUQxJk5+B3+I2dpjFbSGdYbOz2juxLBqyJWH9YhKwmFC7qJTuXDwOKFqLiUMWDUlaDGomTJMnnuYoolUVjXKXlSaxi0E50ixjV/0Un8VfyJCE7dcA84FC9Y1i7AcGEqbiu8u/XYQbiqpoFEOWAW9x8OTy6SIUjGbE1DrF9iBJsS6OpO+Bh2NqH8D28Eif/gS2JdWJ0iiGfCnplWIHHcqwcQ05iVBUqvW0yQUcXK0CsElSZ7WijZJD0l6ONDFlvUKMj7xfkYZooxiSNrc4LDioCbYHAtdHPv4wDe2sGjIKmFJD/ZsJea2bjcAnaQhn1RCAObaPSlvUYdHerMjHCyXtSEM/y4aMBErW6itkHj1XomwGit6QJCXLhgDcZ3t6WmK27yasQslnnqTf04qRdUMAnrb9ULUitu8Boosblkp6qVrtfLJoyHfAushnj9leZPuEpGK2W2y/CrxIz+u1FphWeTcLk0VD2oBWIFoxnAqssT3H9mnlRGwPtT0DWM2hF34D0CppaxodzqdRntTTZEBuHdVVwJuELRHdHAPMBWbaXkFYFL2Og2t7BwNnExZYX5Z7H+Uz4NZalYizaAgAktptXwE8QkjE+bPARwJX515x6QIWAHMl7U6toxFqNWQlnQop1z6J3oG2kv6R9AAwGnibcFGT0kUoYF0saXYtzYBkO6iGAjcSftqlKnLNwFeEfRHXUX5auxlYWWoNle3jcrEpE7sfsFHSB0V0RhCesicRthccXURnOyFpvwcslrSh5BmkyP92j6HtYwn7Nk4k1DYglHE3Az9Ftxr00ksvjcC/Kynr01vJ1FYAAAAASUVORK5CYII="><div class="title-text pull-right">{{vm.title}}</div></div><div id=admin class="pull-right admin pointer" ng-click=vm.closeAdmin() ng-mousedown=vm.adminDown()><div id=dropdown class=pull-right><span class="fa fa-chevron-down admin-menu" ng-class="vm.adminClosed ? \'fa-chevron-down\': \'fa-chevron-up\'"></span><div ng-if=!vm.adminClosed tabindex=-1 id=adminDropDown class=admin-drop-down ng-blur=vm.adminBlur()><div ng-repeat="menuItemA in vm.adminList" ng-if="menuItemA.alwaysShow || vm.userLoggedIn" class="admin-menu-item pointer" ng-click=vm[menuItemA.link]() ng-class="{\'top-border\': menuItemA.lineAbove}"><span ng-if="menuItemA.preIcon !== \'\'" class="fa {{menuItemA.preIcon}} pre-admin-icon"></span> {{menuItemA.name}} <span ng-if="menuItemA.postIcon !== \'\'" class="fa {{menuItemA.postIcon}} post-admin-icon"></span></div></div></div><div id=username class=pull-right><span class=username-text>{{vm.userData.user.userName}}</span></div><div id=portrait class=pull-right><span class="fa fa-user"></span></div></div><div id=hotel-selector class="pull-right hotel-selector" ng-if=vm.userLoggedIn ng-init=vm.setHotelDetails()><div id=corp-selector-box class="pull-left corp-selector-box pointer" ng-if=vm.showCorporateBox() ng-click="vm.selectRadio(\'Corporate\')"><div ng-class="vm.showCorpSelected ? \'fa fa-check-circle corp-check\' : \'fa fa-circle-o corp-check\'"></div><div class="corp-text pull-right">Corporate</div></div><img ng-show="!vm.showHotelSelected && vm.showCorporateBox()" ng-src=images/usertype-arrow-left.png> <img ng-show="vm.showHotelSelected && vm.showCorporateBox()" ng-src=images/usertype-arrow-right.png><div id=hotel-selector-box class="pull-right hotel-selector-box pointer" ng-if=!vm.openHotelSelector ng-click="vm.selectRadio(\'Hotel\')"><div ng-if=vm.showCorporateBox() ng-class="vm.showHotelSelected ? \'fa fa-check-circle hotel-check\' : \'fa fa fa-circle-o hotel-check\'"></div><div ng-if=vm.showHotelBox class=hotel-details><img class=hotel-image ng-src={{vm.hotelLogoImage}}><div class="hotel-text pull-right">{{vm.hotelDescription}}</div></div><div ng-if=!vm.showHotelBox class="select-hotel-text pull-right">{{vm.selectHotelText}}</div></div></div></div></header>'),a.put("src/spinner-directive/spinner-directive.html","<div><div class=overlay-show></div><div class=spinner><img ng-src=images/fa-spinner-anim.gif></div></div>")}]);